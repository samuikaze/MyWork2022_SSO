# 單一登入入口 Single Sign On

在微服務盛行的現在，登入勢必需要獨立出一個系統來處理，方便內部管理帳號與系統安全性外，使用者也不需要因為從 A 系統跳到 B 系統而需要重新登入。

## 專案架構

此為一個基礎的單一登入入口系統，其中功能包括:

1. 註冊帳號
2. 登入/登出
3. 登入狀態驗證
4. 登入階段控制 (未完成)
5. 日誌紀錄

其中登入狀態驗證又拆分為外部驗證與內部驗證，兩邊的驗證皆會記錄日誌:

1. 外部驗證提供一般使用者呼叫個別系統 API 時可以先到此系統中驗證登入狀態
2. 內部驗證提供各系統間驗證使用者登入狀態是否有效時使用

## 內部系統來源驗證

內部系統驗證的 API 為確保資料來源皆源自於內部的系統，而非外部嘗試，會以經加密的權杖來驗證系統正確性，其權杖經解密後為一字串，組成方式為 `{系統 ID}|{系統名稱}|{產生權杖的日期時間}`

```txt
系統 ID: (int) 對應到 DB 中各系統的 ID 值
系統名稱: (string) 對應到 DB 中各系統的名稱
產生權杖的日期時間: (string) ISO8601 標準格式之日期時間
```
